angular.module("k15t.auiNg",["ngSanitize"]),function(e){"use strict";var n=9,t=27,a=38,s=40;e.module("k15t.auiNg").directive("anDropdown2",function(){return{link:function(i,o,l){function r(){x=null,h()}function c(){b=!0}function u(){b=!1}function d(e){!o[0].contains(e.target)&&P&&v()}function g(e){if(!P||e.keyCode!==t&&e.keyCode!==n)if(!b||null!==x&&P!==!1){if(P)switch(e.keyCode){case a:e.preventDefault(),f(x-1);break;case s:e.preventDefault(),f(x+1)}}else(e.keyCode===s||e.keyCode===a)&&(e.preventDefault(),p(),f(0));else v()}function f(e){x=e%$.length,$.get(x).focus()}function h(){P=!P,P&&m(),y.toggleClass("an-dropdown2-show")}function p(){P=!0,m(),y.addClass("an-dropdown2-show")}function v(){P=!1,y.removeClass("an-dropdown2-show")}function m(){var n;y=e.element("#"+k),0===y.length?console.error("dropdown2 trigger can't find menu with the id \""+k+'"'):(y.appendTo(document.body),$=y.find("a"),n=o.offset(),y.css({top:n.top+o.outerHeight()-1,left:"left"===w?n.left:n.left-y.outerWidth()+o.outerWidth()}))}var y,$,P=!1,b=!1,k=l.anDropdown2,w=l.anDropdown2Align,x=null;o.on("click",r).on("focus",c).on("blur",u),e.element(document).on("click",d).on("keydown",g),o.on("$destroy",function(){o.off("click",r).off("focus",c).off("blur",u),y&&y.remove(),e.element(document).off("click",d).off("keydown",g)})}}})}(angular),function(e){"use strict";e.module("k15t.auiNg").directive("anDatePicker",function(){return{restrict:"A",link:function(e,n,t){var a=e.$eval(t.anDatePicker)||{};if(a.onChange&&n.live("blur",function(){a.onChange(n.datepicker("option","currentText"),n.datepicker("getDate"))}),a.onSelect){var s=a.onSelect;a.onSelect=function(){s(n.datepicker("option","currentText"),n.datepicker("getDate"))}}n.datepicker(a)}}})}(angular),function(e){"use strict";e.module("k15t.auiNg").factory("anConfirmDialog",["anSimpleDialog","anDialogUtils",function(e,n){var t={controller:["$scope","dialog",function(e,n){e.$submit=function(){n.close(!0)}}],locals:{styles:{dialog:{width:"400px"}}}},a=function(a){return e.create(n.extendOptions(t,a))};return{create:a}}])}(angular),function(e){"use strict";e.module("k15t.auiNg").factory("anDialogUtils",function(){var n=function(n,t){n=n||{},t=t||{};var a=e.extend({},n,t);return a.labels=e.extend({},n.labels||{},t.labels||{}),a.classes=e.extend({},n.classes||{},t.classes||{}),a.styles=e.extend({},n.styles||{},t.styles||{}),a},t=function(){var t={},a=[].slice.call(arguments,0);return a.forEach(function(a){a=a||{},t=e.extend({},t,a,{locals:n(t.locals,a.locals)})}),t};return{extendOptions:t}})}(angular),function(e){"use strict";e.module("k15t.auiNg").factory("anDialog",["$animate","$compile","$rootScope","$controller","$q","$http","$templateCache","anDialogUtils","AN_DIALOG_EXTEND_OPTIONS",function(n,t,a,s,i,o,l,r,c){var u=[],d=3e3,g='a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex="0"]',f=e.element("body"),h=f.css("overflow"),p=['<div class="an-dialog-wrapper" ng-class="{\'an-dialog-loading\': $isLoading, \'an-dialog-loaded\': !$isLoading }" tabindex="-1">','   <div class="an-dialog-wrapper-inner">','       <div class="an-dialog {{ classes.dialog }}" ng-style="styles.dialog">','           <div class="an-dialog-components">','               <div ng-bind-html="content"></div>',"           </div>","       </div>","   </div>","</div>"].join("\n"),v=function(){return f.find(".an-dialog-blanket")},m=function(e){u.length&&u[u.length-1].options.closeOnEscape&&27===e.keyCode&&u[u.length-1].scope.$close()},y=function(n){u.length&&u[u.length-1].options.closeOnBlanketClick&&e.element(n.target).hasClass("an-dialog-wrapper-inner")&&u[u.length-1].scope.$close()},$=function(n){var t=f.find(".an-dialog-wrapper")[0],a=n.target;u.length&&(e.element.fn&&e.element.fn.closest&&e.element(a).closest(".select2-drop").length||t.contains(a)||e.element(t).find(g).filter(":visible")[0].focus())},P=function(e){u.length||(f.append('<div class="an-dialog-blanket"></div>'),f.css("overflow","hidden"),f.on("click",y),f.on("focusin",$),document.addEventListener("keydown",m)),u.push(e),v().css("z-index",d+(2*u.length-1))},b=function(){u.length&&(u.pop(),v().css("z-index",d+(2*u.length-1)),u.length||(f.off("click",y),f.off("focusin",$),v().remove(),f.css("overflow",h),document.removeEventListener("keydown",m)))},k=function(e){return"function"==typeof e?i.resolve(e()):o.get(e,{cache:l}).then(function(e){return e.data})},w=function(o){var l,g,h={width:640,height:480,template:function(){return i.when(p)},contentTemplate:null,controller:null,controllerAs:"dialogCtrl",closeOnEscape:!0,closeOnBlanketClick:!1,onOpen:e.noop,onClose:e.noop,promises:[],locals:{}},v=r.extendOptions(h,c||{},o),m=function(){return k(v.template).then(function(n){return v.contentTemplate?k(v.contentTemplate).then(function(t){var a=e.element(n);return a.find('[ng-bind-html="content"]').removeAttr("ng-bind-html").html(t),a.get(0).outerHTML}):n}).then(y)},y=function(o){if(g=e.element(o),0===g.length)throw new Error("The template contains no elements; you need to wrap text nodes");if(l=v.scope?v.scope.$new():a.$new(),x.scope=l,e.extend(l,v.locals,{$close:$,$submit:$,$disableSubmit:e.noop,$isLoading:!0,dialog:x}),v.controller){var r={dialog:x,$scope:l},c=s(v.controller,r);v.controllerAs&&(l[v.controllerAs]=c)}return i.all(v.promises).then(function(){return P(x),t(g)(l),g.css("z-index",d+2*u.length),n.enter(g,f).then(function(){l.$isLoading=!1,g.focus()})})},$=function(){var e=arguments;return g?n.leave(g).then(function(){l.$emit("$close",e),l.$destroy(),l=null,g.remove(),g=null,b(),v.onClose.apply(null,e)}):i.when()},w=function(e){v.promises.push(e)},x={close:$,options:v,waitFor:w,openPromise:null};return x.openPromise=m().then(function(){return v.onOpen(x),x}),x};return{create:w}}])}(angular),function(e){"use strict";e.module("k15t.auiNg").factory("anMessageDialog",["anSimpleDialog","$q","anDialogUtils",function(e,n,t){var a=["<div class=\"an-dialog-wrapper\" ng-class=\"{'an-dialog-loading': $isLoading, 'an-dialog-loaded': !$isLoading }\">",'   <div class="an-dialog-wrapper-inner">','       <div class="an-dialog {{ classes.dialog }}" ng-style="styles.dialog">','           <div class="an-dialog-components">','               <header class="an-dialog-header {{ classes.header }}" ng-style="styles.header">','                   <h2 class="an-dialog-header-title {{ classes.title }}" ng-style="styles.title">{{ labels.title }}</h2>','                   <a class="an-dialog-header-close {{ classes.closes }}" ng-style="styles.close" ng-click="$close()"><span class="aui-icon aui-icon-small aui-iconfont-close-dialog">{{ labels.cancel }}</span></a>',"               </header>",'               <section class="an-dialog-content {{ classes.content }}" ng-style="styles.content">','                   <div an-message="message"></div>',"               </section>",'               <footer class="an-dialog-footer">','                   <div class="an-dialog-footer-actions">','                       <button class="aui-button aui-button-link {{ classes.cancel }}" ng-style="styles.cancel" ng-click="$close()">{{ labels.cancel }}</button>',"                   </div>","               </footer>","           </div>","       </div>","   </div>","</div>"].join("\n"),s={template:function(){return n.when(a)},controller:["$scope","dialog",function(e,n){e.$submit=function(){n.close(!0)}}],locals:{styles:{content:{padding:"20px"}}}},i=function(n,a){return e.create(t.extendOptions(s,{locals:{labels:{cancel:"Close"},message:n}},a))};return{create:i}}])}(angular),function(e){"use strict";e.module("k15t.auiNg").factory("anSimpleDialog",["anDialog","$q","anDialogUtils",function(e,n,t){var a=["<div class=\"an-dialog-wrapper\" ng-class=\"{'an-dialog-loading': $isLoading, 'an-dialog-loaded': !$isLoading }\">",'   <div class="an-dialog-wrapper-inner">','       <div class="an-dialog {{ classes.dialog }}" ng-style="styles.dialog">','           <div class="an-dialog-components">','               <header class="an-dialog-header {{ classes.header }}" ng-style="styles.header">','                   <h2 class="an-dialog-header-title {{ classes.title }}" ng-style="styles.title">{{ labels.title }}</h2>','                   <a class="an-dialog-header-close {{ classes.closes }}" ng-style="styles.close" ng-click="$close()"><span class="aui-icon aui-icon-small aui-iconfont-close-dialog">{{ labels.cancel }}</span></a>',"               </header>",'               <section class="an-dialog-content {{ classes.content }}" ng-style="styles.content" ng-bind-html="content"></section>','               <footer class="an-dialog-footer">','                   <div class="an-dialog-footer-actions">','                       <button class="aui-button aui-button-primary {{ classes.submit }}" ng-style="styles.submit" ng-disabled="$disableSubmit()" ng-click="$submit()">{{ labels.submit }}</button>','                       <button class="aui-button aui-button-link {{ classes.cancel }}" ng-style="styles.cancel" ng-click="$close()">{{ labels.cancel }}</button>',"                   </div>","               </footer>","           </div>","       </div>","   </div>","</div>"].join("\n"),s={template:function(){return n.when(a)},locals:{labels:{submit:"Submit",cancel:"Cancel"},classes:{},styles:{}}},i=function(n){return e.create(t.extendOptions(s,n))};return{create:i}}])}(angular),function(e){"use strict";e.module("k15t.auiNg").directive("anMessage",function(){var e=['<div ng-style="message.styleContainer" class="aui-message aui-message-{{ message.severity }} {{ message.severity }}">','   <p ng-if="message.title" class="title">','       <span class="aui-icon icon-{{ message.severity }}"></span>','       <strong ng-bind="message.title"></strong>',"   </p>",'   <div ng-style="message.styleMessageWrapper">','       <p ng-if="message.message" ng-bind-html="message.message"></p>','       <pre ng-if="message.details" ng-style="message.styleDetails" ng-bind-html="message.details"></pre>',"   </div>","</div>"].join("\n");return{restrict:"A",scope:{message:"=anMessage"},template:e}})}(angular),function(e){"use strict";e.module("k15t.auiNg").directive("anMessagesContainer",["anMessages",function(n){var t=['<div class="aui-messages an-messages-container">','   <div ng-repeat="message in messagesCtrl.messages" an-message="message"></div>',"</div>"].join("\n");return{restrict:"A",scope:{},require:"anMessagesContainer",controllerAs:"messagesCtrl",template:t,controller:function(){var n=this,t=function(){var e=0;return function(){return e++}}();this.messages=[];var a={severity:"info",title:null,message:null};this.addMessage=function(s){var i=t();return n.messages.push(e.extend({$id:i},a,s)),function(){for(var e=0,t=n.messages.length;t>e;e++)if(n.messages[e].$id===i){n.messages=n.messages.splice(e,1);break}}},this.clearMessages=function(){n.messages.length=0}},link:function(e,t,a,s){var i=a.anMessagesContainer;if(!i)throw new Error("container id missing");var o=n.register(i,s);e.$on("$destroy",o)}}}])}(angular),function(e){"use strict";e.module("k15t.auiNg").factory("anMessages",function(){var e={},n=function(n,t){if(e[n])throw new Error("a container with this id already exists");return e[n]=t,function(){delete e[n]}},t=function(n){if(!e[n])throw new Error("a container with id "+n+" does not exist");e[n].clearMessages()},a=function(n,t){if(!e[n])throw new Error("a container with id "+n+" does not exist");return e[n].addMessage(t)};return{register:n,clearMessages:t,addMessage:a}})}(angular),function(e){"use strict";e.module("k15t.auiNg").directive("anPage",function(){return{restrict:"A",require:["^anPages","anPage"],scope:!0,priority:99,controller:["$scope","$animate",function(e,n){var t=this,a=[],s=0,i=function(){var e=0;return function(){return e++}}(),o=function(e){if("number"==typeof e)return a[e]?e:!1;for(var n=0,t=a.length;t>n;n++)if(a[n].alias===e)return n;return!1};this.addPanel=function(e){return e.$id=i(),a.push(e),n.addClass(e.el,"ng-hide"),function(){for(var n=0,i=a.length;i>n;n++)if(a[n].$id===e.$id){a=a.splice(n,1),n===s&&t.gotoPanel(0);break}}},this.gotoPanel=function(e){var t=o(e);return t===!1?(s=0,!1):(n.addClass(a[s].el,"ng-hide"),n.removeClass(a[t].el,"ng-hide"),s=t,!0)},this.hasNextPanel=function(){return s+1<a.length},this.hasPrevPanel=function(){return s>0},this.nextPanel=function(){return t.gotoPanel(s+1)},this.prevPanel=function(){return t.gotoPanel(s-1)},e.$gotoPanel=this.gotoPanel,e.$hasNextPanel=this.hasNextPanel,e.$hasPrevPanel=this.hasPrevPanel,e.$nextPanel=this.nextPanel,e.$prevPanel=this.prevPanel,e.$currentPanelIdx=function(){return s}}],link:function(e,n,t,a){var s=a[0],i=a[1],o={el:n,ctrl:i};t.anPage&&(o.alias=t.anPage);var l=s.addPage(o);i.gotoPanel(0),e.$on("$destroy",l)}}})}(angular),function(e){"use strict";e.module("k15t.auiNg").factory("anPagesManager",function(){var e={},n=function(n,t){if(e[n])throw new Error("id already exists");return e[n]=t,function(){delete e[n]}},t=function(n){if(!e[n])throw new Error(n+" does not exist");return e[n]};return{register:n,getById:t}})}(angular),function(e){"use strict";e.module("k15t.auiNg").directive("anPages",["anPagesManager",function(e){return{scope:!0,restrict:"A",priority:100,require:"anPages",controller:["$scope","$animate",function(e,n){var t=this,a=[],s=0,i=function(){var e=0;return function(){return e++}}(),o=function(e){if("number"==typeof e)return a[e]?e:!1;for(var n=0,t=a.length;t>n;n++)if(a[n].alias===e)return n;return!1};this.addPage=function(e){return e.$id=i(),a.push(e),n.addClass(e.el,"ng-hide"),function(){for(var n=0,i=a.length;i>n;n++)if(a[n].$id===e.$id){a=a.splice(n,1),n===s&&t.gotoPage(0);break}}},this.gotoPage=function(e){var t=o(e);return t===!1?(s=0,!1):(n.addClass(a[s].el,"ng-hide"),n.removeClass(a[t].el,"ng-hide"),s=t,!0)},this.hasNextPage=function(){return s+1<a.length},this.hasPrevPage=function(){return s>0},this.nextPage=function(){return t.gotoPage(s+1)},this.prevPage=function(){return t.gotoPage(s-1)},this.getPage=function(e){var n=o(e);return n?a[n]:!1},e.$gotoPage=this.gotoPage,e.$hasNextPage=this.hasNextPage,e.$hasPrevPage=this.hasPrevPage,e.$nextPage=this.nextPage,e.$prevPage=this.prevPage,e.$currentPageIdx=function(){return s}}],link:function(n,t,a,s){var i;s.gotoPage(0),a.anPages&&(i=e.register(a.anPages,s),n.$on("$destroy",i))}}}])}(angular),function(e){"use strict";e.module("k15t.auiNg").directive("anPanel",function(){return{restrict:"A",require:"^anPage",scope:!0,priority:98,link:function(e,n,t,a){var s={el:n};t.anPanel&&(s.alias=t.anPanel);var i=a.addPanel(s);e.$on("$destroy",i)}}})}(angular),function(e){"use strict";e.module("k15t.auiNg").directive("anSelect2",["$timeout",function(n){return{restrict:"A",require:"ngModel",link:function(t,a,s,i){var o=t.$eval(s.anSelect2)||{};if(e.isUndefined(e.element.fn.auiSelect2))throw new Error("auiSelect2 is not installed");e.isFunction(i.$overrideModelOptions)&&i.$overrideModelOptions({debounce:5});var l=function(n){var t=a.auiSelect2(o.selectData?"data":"val");n.stopImmediatePropagation(),i.$setViewValue(e.isArray(t)?t.length?t:void 0:t)};a.on("change",l),t.$on("$destroy",function(){a.auiSelect2("destroy"),a.off("change",l)}),t.$watch(function(){return i.$modelValue},function(e){n(function(){if(a.data("select2")){var n=a.data("select2").opts;o.selectData?a.auiSelect2("data",e):n.query&&!n.initSelection&&null!==e?console.warn("anSelect2: initSelection should be set if a query function is defined, otherwise it can lead to inconsistities between ngModel and the value which is displayed in select2"):a.auiSelect2("val",e)}})}),n(function(){a.auiSelect2(o)})}}}])}(angular),function(e){"use strict";e.module("k15t.auiNg").directive("anTooltip",function(){return{restrict:"A",link:function(e,n,t){var a=function(){var a=e.$eval(t.anTooltipOptions)||{};a.title=function(){return e.$eval(t.anTooltip)},n.tooltip(a)};e.$watch(t.anTooltip,a),a()}}})}(angular);
//# sourceMappingURL=../dist/aui-ng.min.js.map